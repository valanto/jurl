var jurl=function(a){function d(a){return a===null||typeof a==="undefined"||e(a)===""}function e(a){if(a===null||typeof a==="undefined"){return a}a=a+"";return a.replace(/(^\s*)|(\s*$)/g,"")}function f(a){var b=/^((((file|gopher|news|nntp|telnet|http|ftp|https|ftps|sftp):\/\/)?(www\.)?([a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?))(\/[a-zA-Z0-9\-_\/]*)?)(\?([a-zA-Z0-9\-_&=]*))?(#([a-zA-Z0-9\-_&=\/]*))?$/;var c=b.exec(a);if(c<3){return""}console.log(c);return{base:c[2],urlParameters:h(c[8]),queryParameters:g(c[10]),hashParameter:c[12]}}function g(a){if(d(a)){return{}}var b={};var c=a.split("&");var e;for(e=0;e<c.length;e+=1){var f=c[e].split("=");b[f[0]]="";if(f.length>1){b[f[0]]=f[1]}}return b}function h(a){if(d(a)){return[]}var b=[];var c=a.split("/");var e;for(e=0;e<c.length;e+=1){if(!d(c[e])){b.push(c[e])}}return b}var b=this;var c=f(a);b.addUrlParameter=function(a,f){a=e(a);if(!d(a)){if(d(f)&&isNaN(f)){c.urlParameters.push(a)}else{if(f<c.urlParameters.length){c.urlParameters.splice(f,0,a)}}}return b};b.setQueryParameter=function(a,f){a=e(a);if(!d(a)){c.queryParameters[a]="";if(!d(f)){c.queryParameters[a]=f}}return b};b.setHashParameter=function(a){a=e(a);if(d(a)){c.hashParameter=null}c.hashParameter=e(a);return b};b.getQueryParameter=function(a){a=e(a);if(d(a)||!c.queryParameters.hasOwnProperty(a)){return null}return c.queryParameters[a]};b.getParameterIndex=function(a){a=e(a);var b;for(b=0;b<c.urlParameters.length;b+=1){if(c.urlParameters[b]===a){return b}}return null};b.removeUrlParameter=function(a){a=e(a);if(c.urlParameters.indexOf(a)>-1){c.urlParameters.splice(c.urlParameters.indexOf(a),1)}return b};b.removeQueryParameter=function(a){a=e(a);if(c.queryParameters.hasOwnProperty(a)){delete c.queryParameters[a]}return b};b.build=function(){var a=c.base;if(c.urlParameters.length>0){a+="/"+c.urlParameters.join("/")}var b=[],e;for(e in c.queryParameters){if(c.queryParameters.hasOwnProperty(e)){var f=e;var g=c.queryParameters[e];if(!d(g)){f+="="+g}b.push(f)}}if(b.length>0){a+="?"+b.join("&")}if(!d(c.hashParameter)){a+="#"+c.hashParameter}return a};return b};(function(a){a.fn.jurl=function(){if(this.attr("href")){return new jurl(this.attr("href"))}throw"Not href attribute on element: "+input}})(jQuery)